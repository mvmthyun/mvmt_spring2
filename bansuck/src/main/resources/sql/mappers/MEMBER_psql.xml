<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bansuck.proj.p2.mappers.MEMBER_psql">

	<!-- DB 전송 타입 -->
    <resultMap id="memberDto" type="MemberDto">
        <result property="memberId" column="MEMBER_ID" />
		<result property="memberPassword" column="MEMBER_PASSWORD" />
		<result property="memberEmail" column="MEMBER_EMAIL" />
		<result property="memberName" column="MEMBER_NAME" />
		<result property="memberNumber" column="MEMBER_NUMBER" />
		<result property="memberAddr" column="MEMBER_ADDR" />
		<result property="memberCreateAt" column="MEMBER_CREATE_AT" />
		<result property="memberModifiedAt" column="MEMBER_MODIFIED_AT" />
		<result property="memberActivation" column="MEMBER_ACTIVATION" />
    </resultMap>
    
    <!-- 사용자 전체 조회 -->
    <select id="memberSelectListAll" parameterType="MemberDto" resultMap="memberDto">
		SELECT *
		FROM BANSUCK.MEMBERS
    </select>
    
    <!-- 사용자 단일 조회 -->
    <select id="memberSelectOne" parameterType="MemberDto" resultMap="memberDto">
		SELECT
		    MEMBER_ID
		    , MEMBER_PASSWORD
		    , MEMBER_NAME
		    , MEMBER_NUMBER
		    , MEMBER_ADDR
		    , MEMBER_CREATE_AT
		    , MEMBER_MODIFIED_AT
		    , MEMBER_ACTIVATION
		FROM BANSUCK.MEMBERS
		WHERE 1=1
		    AND MEMBER_EMAIL = #{memberEmail}
    </select>

</mapper>